<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DWARF Issue: Inconsistent length field for location description in .debug_loc</title>
  <link rel="stylesheet" href="../static/dwarf.css" type="text/css" />
  <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon.png" />
</head>
<body>
  <div class="pageheader">
    <img id="dwarf-logo" alt="DWARF Debugging Format" src="../images/dwarf-logo.svg" />
  </div>

  <div class="contentwrapper">
    <div class="content">

      <h1>Issue 121123.1: Inconsistent length field for location description in .debug_loc</h1>

      <table class="issueheader">
        <tbody>
          <tr>
            <th>Author:</th>
            <td>Kendrick Wong</td>
          </tr>
          <tr>
            <th>Champion:</th>
            <td>Kendrick Wong</td>
          </tr>
          <tr>
            <th>Date submitted:</th>
            <td>2012-11-23</td>
          </tr>
          <tr>
            <th>Type:</th>
            <td>Editorial</td>
          </tr>
          <tr>
            <th>Status:</th>
            <td>Accepted</td>
          </tr>
          <tr>
            <th>DWARF Version:</th>
            <td>5</td>
          </tr>
    
        </tbody>
      </table>

<pre class="proposal">
Section 7.7.3, pg 167
In 7.7.3 Location Lists:

&quot;A location list entry consists of two address offsets followed by a 2-byte length, followed by a
block of contiguous bytes that contains a DWARF location description. The length specifies the 
number of bytes in that block.&quot;

The &#x27;2-byte length&#x27; is missing elsewhere
in 2.6.2 Location Lists:

&quot;A location list entry consists of:

1. A beginning address offset. This address offset has the size of an address and is relative to 
the applicable base address of the compilation unit referencing this location list. It marks the 
beginning of the address range over which the location is valid.

2. An ending address offset. This address offset again has the size of an address and is relative 
to the applicable base address of the compilation unit referencing this location list. It marks 
the first address past the end of the address range over which the location is valid. The ending 
address must be greater than or equal to the beginning address.

A location list entry (but not a base address selection or end of list entry) whose beginning and 
ending addresses are equal has no effect because the size of the range covered by such an entry is
zero.

3. A single location description describing the location of the object over the range specified by
the beginning and end addresses.

Suggestion:
In 2.6.2:
Add between point 2. and 3.:
2.5: A 2 byte length describing the length of the location description that follows.

---

Accepted - 2/12/2013
</pre>

    </div> <!-- content -->
  </div> <!-- contentwrapper -->

  <div class="nav">
<ul>
	<li><a href="../index.html">Home</a></li>
	<li>DWARF Standards
	<ul>
		<li><a href="../download.html">Download</a></li>
		<li><a href="../languages.html">Current Language Codes</a></li>
	</ul>
	</li>
	<li>Public Comment
	<ul>
		<li><a href="../comment.html">Submit a Comment</a></li>
		<li><a href="../submissions.html">Submission Guidelines</a></li>
		<li><a href="../issues.html">Issues</a></li>
	</ul>
	</li>
	<li>About the Committee
	<ul>
		<li><a href="../members.html">Members</a></li>
		<li><a href="../bylaws.html">Bylaws</a></li>
		<li><a href="../code-of-conduct.html">Code of Conduct</a></li>
		<li><a href="../member-agreement.html">Membership Agreement</a></li>
		<li><a href="../procedures.html">Committee Procedures</a></li>
	</ul>
	</li>
</ul>

  </div> <!-- nav -->

  <div class="clearer"></div>

  <div class="pagefooter">
<p>dwarfstd.org is supported by <a href="https://sourceware.org/">Sourceware</a>.
Contributions are welcome.</p>
<p>Copyright &copy; 2023 DWARF Debugging Information Format Committee</p>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

  </div> <!-- footer -->
</body>
</html>
