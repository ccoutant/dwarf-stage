<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DWARF Issue: Clarify DW_AT_byte_size usage with DW_TAG_enumeration</title>
  <link rel="stylesheet" href="../static/dwarf.css" type="text/css" />
  <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon.png" />
</head>
<body>
  <div class="pageheader">
    <img id="dwarf-logo" alt="DWARF Debugging Format" src="../images/dwarf-logo.svg" />
  </div>

  <div class="contentwrapper">
    <div class="content">

      <h1>Issue 140327.1: Clarify DW_AT_byte_size usage with DW_TAG_enumeration</h1>

      <table class="issueheader">
        <tbody>
          <tr>
            <th>Author:</th>
            <td>Mark Wielaard</td>
          </tr>
          <tr>
            <th>Champion:</th>
            <td>Ron Brender</td>
          </tr>
          <tr>
            <th>Date submitted:</th>
            <td>2014-03-27</td>
          </tr>
          <tr>
            <th>Type:</th>
            <td>Clarification</td>
          </tr>
          <tr>
            <th>Status:</th>
            <td>Accepted</td>
          </tr>
          <tr>
            <th>DWARF Version:</th>
            <td>5</td>
          </tr>
    
        </tbody>
      </table>

<pre class="proposal">
Section 5.7, pg 96

If the DW_TAG_enumeration has a DW_AT_type to indicate the underlying base type 
of this enumeration, and that type has a size itself, then the DW_AT_byte_size is 
optional.  This is not immediately clear from the text of the standard and some 
consumers might not realize that they can get the size of the enumeration from its 
underlying type if DW_AT_byte_size isn&#x27;t given.

The following clarification is suggested:

In 5.7 Enumeration Type Entries.
Move the last sentence of the third paragraph reading &quot;This entry also has a 
DW_AT_byte_size attribute whose integer constant value is the number of bytes 
required to hold an instance of the enumeration.&quot; to the end of the next paragraph
&quot;The enumeration type entry may have a DW_AT_type attribute which refers to the 
underlying data type used to implement the enumeration.&quot; Rephrase it a little to 
indicate it is optional. And add a sentence that explains the size may also be 
gotten from the underlying type. So that the fourth paragraph would read:

&quot;The enumeration type entry may have a DW_AT_type attribute which refers to the 
underlying data type used to implement the enumeration. The entry also may have 
a DW_AT_byte_size attribute whose integer constant value is the number of bytes 
required to hold an instance of the enumeration. If no DW_AT_byte_size attribute 
is given the size for holding an instance of the enumeration is given by the size 
of the DW_AT_type underlying data type.&quot;

--
5/14/2014 -- Accepted.
</pre>

    </div> <!-- content -->
  </div> <!-- contentwrapper -->

  <div class="nav">
<ul>
	<li><a href="index.html">Home</a></li>
	<li>DWARF Standards
	<ul>
		<li><a href="../download.html">Download</a></li>
		<li><a href="../languages.html">Current Language Codes</a></li>
	</ul>
	</li>
	<li>Public Comment
	<ul>
		<li><a href="../comment.html">Submit a Comment</a></li>
		<li><a href="../submissions.html">Submission Guidelines</a></li>
		<li><a href="../issues.html">Issues</a></li>
	</ul>
	</li>
	<li>About the Committee
	<ul>
		<li><a href="../members.html">Members</a></li>
		<li><a href="../bylaws.html">Bylaws</a></li>
		<li><a href="../code-of-conduct.html">Code of Conduct</a></li>
		<li><a href="../member-agreement.html">Membership Agreement</a></li>
		<li><a href="../procedures.html">Committee Procedures</a></li>
	</ul>
	</li>
</ul>

  </div> <!-- nav -->

  <div class="clearer"></div>

  <div class="pagefooter">
<p>dwarfstd.org is supported by <a href="https://sourceware.org/">Sourceware</a>.
Contributions are welcome.</p>
<p>Copyright &copy; 2023 DWARF Debugging Information Format Committee</p>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

  </div> <!-- footer -->
</body>
</html>
