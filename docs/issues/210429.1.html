<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DWARF Issue: Clarify Description of Line Number Table Extended Opcodes</title>
  <link rel="stylesheet" href="../static/dwarf.css" type="text/css" />
  <link rel="icon" type="image/png" sizes="48x48" href="../images/favicon.png" />
</head>
<body>
  <div class="pageheader">
    <img id="dwarf-logo" alt="DWARF Debugging Format" src="../images/dwarf-logo.svg" />
  </div>

  <div class="contentwrapper">
    <div class="content">

      <h1>Issue 210429.1: Clarify Description of Line Number Table Extended Opcodes</h1>

      <table class="issueheader">
        <tbody>
          <tr>
            <th>Author:</th>
            <td>Ron Brender</td>
          </tr>
          <tr>
            <th>Champion:</th>
            <td>Ron Brender</td>
          </tr>
          <tr>
            <th>Date submitted:</th>
            <td>2021-04-29</td>
          </tr>
          <tr>
            <th>Type:</th>
            <td>Editorial</td>
          </tr>
          <tr>
            <th>Status:</th>
            <td>Accepted</td>
          </tr>
          <tr>
            <th>DWARF Version:</th>
            <td>6</td>
          </tr>
    
        </tbody>
      </table>

<pre class="proposal">
Section 6.2.3, pg 153
Some of the discussion of Issue 180426.2 regarding the proposed extended
DW_LNE_comment revealed that the description of line number table extended
opcodes as a group is not very clear in the document. The following proposes
an alternative description that is hopefully clearer.

1) In Section 6.2.3, p153, add a second paragraph to bullet 2 which introduces
standard opcodes:

    One standard opcode (DW_LNS_extended_op) serves as an escape that allows
    additional opcodes without reducing the number of special opcodes.

2) In Section 6.2.3, p153, bullet 3 which introduces extended opcodes, replace
the word &quot;zero&quot; with &quot;DW_LNS_extended_op&quot; (twice). The resulting paragraph
then reads

    These have a multiple byte format. The first byte is DW_LNS_extended_op;
    the next bytes are an unsigned LEB128 integer giving the number of bytes
    in the instruction (not including the initial DW_LNS_extended_op or the
    size). The remaining bytes are the instruction itself (which begins with
    a ubyte extended opcode).

3) In Section 6.2.5.2, p164, add a new code at the end of the list:

    13. DW_LNS_extended_op
         The DW_LNS_extended_op opcode takes two operands. The first is an
         unsigned LEB128 value that gives the size of the operand that follows.
         The second begins with an extended opcode which is followed by
         operands appropriate to that opcode.

4) In Section 6.2.5.3, p164, insert this new paragraph at the beginning of
the section:

     Extended opcodes are used as part of a DW_LNS_extended_op operation
     (see Section 6.2.3).

5) In Section 7.22, p236, Table 7.25, add the following at the beginning
of the table:

      DW_LNS_extended_op        0x00

Mark this entry as &quot;New in DWARF Version 6&quot; as usual.
 

-- 
2022-03-22:  Accepted.  Recategorized to editorial.
</pre>

    </div> <!-- content -->
  </div> <!-- contentwrapper -->

  <div class="nav">
<ul>
	<li><a href="../index.html">Home</a></li>
	<li>The DWARF Standard
	<ul>
		<li><a href="../dwarf5std.html">DWARF Version 5</a></li>
		<li><a href="../languages.html">Assigned Language Codes</a></li>
		<li><a href="../issues.html">Current Issues</a></li>
		<li><a href="../submissions.html">Submission Guidelines</a></li>
		<li><a href="https://lists.dwarfstd.org/mailman/listinfo/dwarf-discuss">Mailing List</a></li>
		<li><a href="../comment.html">Submit a Comment</a></li>
		<li><a href="../download.html">Downloads</a></li>
	</ul>
	</li>
	<li>About the DWARF Committee
	<ul>
		<li><a href="../members.html">Members</a></li>
		<li><a href="../bylaws.html">Bylaws</a></li>
		<li><a href="../code-of-conduct.html">Code of Conduct</a></li>
		<li><a href="../member-agreement.html">Membership Agreement</a></li>
		<li><a href="../procedures.html">Procedures</a></li>
	</ul>
	</li>
</ul>

  </div> <!-- nav -->

  <div class="clearer"></div>

  <div class="pagefooter">
<p>dwarfstd.org is supported by <a href="https://sourceware.org/">Sourceware</a>.
Contributions are welcome.</p>
<p>Copyright &copy; 2023 DWARF Debugging Information Format Committee</p>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

  </div> <!-- footer -->
</body>
</html>
