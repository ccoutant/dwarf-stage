<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.dev/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>050518.1</td>
      <td>John Bishop</td>
      <td>DW_OP_bit_piece</td>
      <td>Enhancement</td>
      <td>Accepted</td>
      <td>John Bishop</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section: 2.4.1.6
Page: 20

This introduces a new operator intended to extract bit fields
from values to construct a bigger value.

1. Replace &quot;two&quot; by &quot;three&quot; in the first line.

2. Re-number DW_OP_nop as &quot;3&quot; rather than &quot;2&quot;.

3. Add the following text:

---[ begin ]---
2. DW_OP_bit_piece

DW_OP_bit_piece takes two operands.  The first is an unsigned LEB128
that gives the size in bits of the field, and the second is an unsigned
LEB128 that gives the offset in bits from the low-bit end of the DWARF
expression whose result is at the top of the stack.

<i>
DW_OP_bit_piece is to be used instead of DW_OP_piece when the pieces to
be assembled into a value are not byte-sized or are not at the start of
a register or an addressable unit of memory and so must be extracted 
from somewhere &quot;inside&quot; that unit.
</i>

============================================

Revised italic text:

<i>
    Interpretation of the offset depends on the kind of
    location expression.  If the location is null, the
    offset doesn't matter and the DW_OP_bit_piece operator
    describes a piece consisting of the given number of bits
    whose values are undefined.

    If the location is a register, the offset is from the low-bit
    end of the register.

    If the location is a memory address,
    the DW_OP_bit_piece operator describes a sequence of bits
    relative to the location whose address is on the top of the
    stack using the bit numbering and direction conventions that
    are appropriate to the current language on the target system.

DW_OP_bit_piece is to be used instead of DW_OP_piece when the pieces to
be assembled into a value or assigned to are not byte-sized or are not
at the start of a register or an addressable unit of memory.  

Whether or not the result is sign-extended depends on the type of
the assembed object.
</i>
</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
