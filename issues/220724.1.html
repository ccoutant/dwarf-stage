<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.dev/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>220724.1</td>
      <td>David Blaikie</td>
      <td>Remove .debug_aranges and require unit-level ranges/high/low</td>
      <td>Improvement</td>
      <td>Open</td>
      <td>David Blaikie</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section 6.1.2, pg 147
Given a discussion on dwarf-discuss (mailing lists down at the moment, so I 
can't include a link) and Clang's experience with debug_aranges being disabled 
by default for the better part of a decade at this point, I'd propose removing 
them from the DWARF standard in favor of adding a guarantee that CU DIEs must 
(rather than may) include a comprehensive address range (DW_AT_high/low_pc) or 
list of ranges (DW_AT_ranges). This reduces redundancy in DWARF - reducing 
debug info size and implementation complexity (having to support reading data 
from multiple/varied locations - aranges or CU DIE ranges).

Proposed solution:
  Remove section 6.1.2 and 7.12 and all other references to .debug_aranges

  The index lists the following references to .debug_aranges: 147, 184, 186,
  187, 197, 235, 274, 275, 278, 279, 366, 371, 393, 394, 399&ndash;401, 416 - these
  seem to generally be easy to remove/an editorial matter of removing a 
  reference from a list of examples/descriptions. (I can enumerate them all  
  explicitly if desired)
  
  Edit 3.1.1, p61 from:

A full or partial compilation unit entry may have the following attributes:
 1. Either a DW_AT_low_pc and DW_AT_high_pc pair of attributes or a 
DW_AT_ranges attribute whose values encode the contiguous or non-contiguous 
address ranges, respectively, of the machine instructions generated for the 
compilation unit (see Section 2.17 on page 51).

A DW_AT_low_pc attribute may also be specified in ... 

to:

A full or partial compilation unit entry must have either a DW_AT_low_pc and 
DW_AT_high_pc pair of attributes or a DW_AT_ranges attribute whose values 
encode the contiguous or non-contiguous address ranges, respectively, of the 
machine instructions generated from the compilation unit (see Section 2.17 
on page 61).

A full or partial compilation unit entry may have the following attributes:

  1. A DW_AT_low_pc attribute may be specified in ...

</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
