<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.dev/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>160301.1</td>
      <td>Paul Robinson</td>
      <td>Explicit import of C++ anonymous namespace</td>
      <td>Improvement</td>
      <td>Accepted</td>
      <td>Paul Robinson</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section 3.2.2, pg 50
(Page 50 of DWARF 4; page 68 in dwarf5.20151019.pdf.)

The C++ standard says that declarations in the &quot;anonymous
namespace&quot; are implicitly available in the containing scope,
as if the namespace had a made-up unique name and the containing
scope had a &quot;using&quot; directive with that name.

This breaks the standard scoping that DWARF assumes about all
languages. While some consumers will notice that the language
for the compilation unit is C++, and may implicitly make
declarations within the anonymous namespace visible outside
the namespace, DWARF should not assume that ALL consumers will
do this.  DWARF should recommend that producers emit explicit
syntax to describe the language-specific scoping behavior.

Section 3.2.2 has a non-normative paragraph that discusses
the anonymous namespace, which reads as follows:

&quot;The C++ compilation unit specific &quot;unnamed namespace&quot; may be
represented by a namespace entry with no name attribute in the
original namespace declaration entry (and therefore no name
attribute in any namespace extension entry of this namespace).&quot;

I propose adding to the paragraph as follows:

<i>&quot;C++ states that declarations in the unnamed namespace are
implicitly available in the containing scope; a producer
should make this effect explicit with the DW_AT_export_symbols
attribute, or by using a DW_TAG_imported_module that is a
sibling of the namespace entry and references it.&quot; </i>

--

06/21/2016 -- Accepted.  

</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
