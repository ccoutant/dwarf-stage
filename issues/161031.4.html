<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.dev/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>161031.4</td>
      <td>Jakub Jelinek</td>
      <td>C++ static data members, C++17 inline variables</td>
      <td>Editorial</td>
      <td>Rejected</td>
      <td>Jakub Jelinek</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section Appendix A, pg 258
For DW_TAG_variable we list lots of attributes that aren't listed for
DW_TAG_member, in particular:
DW_AT_alignment
DW_AT_const_expr
DW_AT_const_value
DW_AT_endianity
DW_AT_external
DW_AT_linkage_name
DW_AT_location
DW_AT_segment
DW_AT_specification
DW_AT_start_scope

For C++98 .. C++14, I think at least DW_AT_const_value and DW_AT_const_expr
should be listed as allowed on DW_TAG_member, if we have say:

struct A
{
  static constexpr int a = 9;
} a;

then even when we don't have a definition of A::a in the current TU, it 
is still desirable to tell the consumers that A::a is constexpr and what 
constant value it has - if such a static data member is never odr-used, 
it might not have the definition anywhere.

For C++17, I believe we need far more attributes than that.  First of 
all, variables can be explicitly or implicitly inline, so we should allow 
DW_AT_inline DW_INL_declared_inlined on variables with explicit inline 
keyword and DW_AT_inline DW_INL_inlined for the implicit ones (static 
constexpr data members).

And, as inline (explicitly or implicitly) static data members have their 
definitions in the class rather than somewhere else, we need to allow

DW_AT_alignment
DW_AT_const_expr
DW_AT_const_value
DW_AT_endianity
DW_AT_external
DW_AT_inline
DW_AT_linkage_name
DW_AT_location
DW_AT_segment
on DW_TAG_member (in addition to DW_TAG_inline on DW_TAG_variable) - I think:
DW_AT_specification
DW_AT_start_scope
don't make sense for DW_TAG_member - start_scope because static data members 
are global variables and thus should be in scope everywhere.

--

Rejected 1/3/2017.
See issue 161118.1 regarding DW_TAG_member.  Detailed proposal needed for C++17.
</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
