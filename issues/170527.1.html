<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.org/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>170527.1</td>
      <td>Jan Kratochvil</td>
      <td>DW_IDX_* for static/extern symbols</td>
      <td>Enhancement</td>
      <td>Accepted</td>
      <td>Cary Coutant</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section 6.1.1.4.7, pg 147

When a debugger wants to print 'somename' it logically tries to find first 'somename' as an 
external symbol in all available libraries.  Only if none such external symbol is found the 
debugger starts searching for a static 'somename' symbol in those libraries.

This requires to know whether a symbol in .debug_names index has DW_AT_external or not.  
Otherwise a lot of needless CU expansions happen.  This extension improves performance 
gain of the .debug_names index.

(Discovered in an original fix by Doug Evans - GDB Bug 14125.)

Proposed Change:

In table 6.1 on page 147, add the following:

  DW_IDX_external     Whether DW_AT_external is present on the
declaration (flag)

In Section 6.1.1.4.8 (Entry Pool), add the following:

Each index entry has a flag indicating whether the corresponding DIE
has the DW_AT_external attribute with a true value. If the
DW_IDX_external attribute is missing from an entry, it means that
DW_AT_external is false for that DIE.

In Table 7.23 on page 234, add the following:

  DW_IDX_external    6    flag

In Section 7.19 (Name Index Table), below Table 7.23, add the
following non-normative text:

<i>It is suggested that producers should use the form code
DW_FORM_flag_present for the DW_IDX_external attribute for
abbreviation codes that represent external names.</i>

--
2021-03-25: Revised.  Previous version: http://dwarfstd.org/issues/170527.1-1.html
2021-04-19: Accepted.
</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
