<html><head>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>DWARF Issue</title>
</head><body>
<body>
<table style="text-align: left; width: 800px; height: 136px;" border="0">
  <tbody>
    <tr>
      <td
 style="vertical-align: middle; text-align: center; width: 153px;"><img
 src="dwarf.png" border="0"> </td>
      <td style="width: 372px;">
      <div style="text-align: center;"> </div>
      <h1 style="text-align: center;">DWARF Standard</h1>
      <div style="text-align: center;"> </div>
      </td>
    </tr>
  </tbody>
</table>
<table style="text-align: left; width: 800px; height: 26px;" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/">HOME</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/Download.html">SPECIFICATIONS</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="http://wiki.dwarfstd.org/index.php?title=DWARF_FAQ">FAQ</a><br>
      </td>
      <td
 style="text-align: center; background-color: rgb(51, 51, 255);"><a
 style="color: rgb(255, 255, 255);"
 href="/issues.html">ISSUES</a><br>
      </td>
      <td style="width: 168px; background-color: rgb(51, 51, 255);"><br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<br>

<table style="text-align: left; width: 794px; height: 25px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>

    <tr>
      <td>141020.1</td>
      <td>Adrian Prantl</td>
      <td>C++11 inline namespaces</td>
      <td>Enhancement</td>
      <td>Rejected</td>
      <td>Adrian Prantl</td>
    </tr>
  </tbody>
</table>
<pre><big>

Section Namespace Entries, pg 
Issue:       ?
Description: C++11 inline namespaces
Type:        Enhancement
Submitter:   Adrian Prantl &lt;aprantl@apple.com&gt;
Championed:  Adrian Prantl &lt;aprantl@apple.com&gt;


Background for discussion
=========================

C++11 allows namespaces to be marked with the inline keyword.

Section 7.3.1:
http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2011/n3242.pdf

  &quot;Members of an inline namespace can be used in most respects as
  though they were members of the enclosing namespace.&quot;

The inline keyword affects how name lookup is performed.
To give a practical example, when a user writes &quot;std::vector&lt;int&gt;&quot;, in
libc++ the type is actually a std::__1::vector&lt;int&gt;, with __1 being an
inlined namespace.

This proposal models a C++11 &quot;inline namespace&quot; by attaching the
DW_AT_inline attribute to the namespace.

For discussion: An alternative approach is to emit the inlined
namespaces as if it were imported into the enclosing namespace with a
using directive.
  
Changes
=======

Section 3.2.2 Namespace Entries
-------------------------------

If a namespace has a DW_AT_inline (DW_INL_declared_inlined) attribute
that namespace is marked as inlined. When a consumer performs name
lookup members of inlined namespaces should be treated as though they
were members of the enclosing namespace.

Section 2.2 Attribute types
---------------------------
[Add &quot;inlined namespace&quot; to DW_AT_inline in Table 2.2: Attribute names]

Appendix A. Attributes by Tag
-----------------------------

[add DW_AT_inline to DW_TAG_namespace]

D.3 Namespace Example
---------------------


[ORIGINAL TEXT]
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
namespace A {
  namespace B {
    int j;
    int myfunc (int a);
    float myfunc (float f) { return f - 2.0; } int myfunc2(int a) { return a + 2; }
  }
}

30$:        DW_TAG_variable
                DW_AT_name(&quot;j&quot;)
                DW_AT_type(reference to 1$)
                DW_AT_location ...



                
[NEW TEXT]
==========
namespace A {
  namespace B {
    inline namespace C {   // (1) inline namespace
      int j;
    }
    int myfunc (int a);
    float myfunc (float f) { return f - 2.0; } int myfunc2(int a) { return a + 2; }
  }
}


30$:    DW_TAG_namespace
            DW_AT_name(&quot;C&quot;)
            DW_AT_inline(DW_INL_declared_inlined)
            
32$:        DW_TAG_variable
                DW_AT_name(&quot;j&quot;)
                DW_AT_type(reference to 1$)
                DW_AT_location ...

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;

-- 
Rejected -- 12/16/2014 (Replaced by 141212.1)

</big></pre>
<br><br>

<table style="text-align: left; width: 800px;" border="0" cellpadding="0" cellspacing="0">
  <small>
  </small><tbody><small>
    </small><tr><small>
      </small><td style="width: 800px; text-align: center;"><small>
      <font class="footmsg">
All logos and trademarks in this site are property of their respective
owner. <br>
The comments are property of their posters, all the rest &copy; 2007-2022
by DWARF Standards Committee.</font></small></td><small>
    </small></tr><small>
  </small></tbody><small>
  </small>
</table>

</body></html>
